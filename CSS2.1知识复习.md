#CSS2.1知识复习
## 0.学习纲要
- CSS浮动和定位
- 深入了解选择符优先级、继承、层叠机制，而不是滥用!important来打补丁
- 熟悉盒模型
- 了解各种长度单位及其应用的地方

##1.CSS浮动和定位
###1.1浮动
####1.1.1float
**值：**left|right|none|inherit
**初始值**：none
**继承性**：无
**计算值**：根据指定确定

####1.1.2浮动元素初探
- 浮动元素会从正常的文档流中删除
- 浮动元素还是会影响布局，表现在其他内容会*环绕*该元素
- 浮动元素的周围外边距不会合并
- 如果浮动一个非替换元素则必须给该元素声明一个width，否则根据规范其width将趋近于0([可替换元素详情链接](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Replaced_element))

####1.1.3浮动详细内幕
#####1.1.3.1包含块及块级框
首先建立[*包含块（containning block）*](http://w3help.org/zh-cn/kb/008/#header_1)的概念，浮动元素的包含块是其最近的块级祖先元素。此外浮动元素会生成一个块级框（相当于声明了display:block）。
#####1.1.3.2浮动元素摆放的规则
1. 浮动元素的左（或右）外边界不能超出其包含框的左（或右）*内边界*。但有可能超出下边界。
2. 浮动元素的左（或右）外边界必须是源文档当前出现的左浮动（或右浮动）元素的右（左）外边界，除非后出现的浮动元素是先出现的浮动元素的底端下面。这条规则是为了防止覆盖。
3. 做浮动元素的右边界不会在其右边右浮动元素的左外边界的右边，反之亦然。这条规则是为了防止左右覆盖。常见就是父元素宽不够，两个平行放的子元素分别左右浮动时其中一个被挤下来。
4. 一个浮动元素的顶端不能比其父元素的内顶端更高。
5. 浮动元素的顶端不能比之前所有浮动元素或块级元素的顶端更高。
6. 如果源文档中一个浮动元素之前出现另一个元素，浮动元素的顶端不能比包含该元素所生成框的任何行框的顶端更高。
7. 左（右）浮动元素的左边（右边）有另一个浮动元素，前者的右外边界不能再其包含块的右（左）边界的右边（左边）。常见就是父元素宽不够，多个同水平线上子元素同时向左或向右浮动时会被挤下几个。
8. 浮动元素尽可能的高。（浏览器行为，不可预测）
9. 浮动元素左右尽可能的远。（浏览器行为，不可预测）

#####1.1.3.3特殊情况
1. 浮动元素比父元素高时，浮动元素会超过其父元素的底端；因浮动元素具有延伸性，从而可以包含其所有后代浮动元素，所以可以通过浮动父元素解决这个问题。
2. 父元素具有负外边距，浮动元素可能会移动到父元素外边。
3. 当浮动元素与正常流中的元素发生重叠时（例如浮动元素高度超过的父级元素）：
	- 行内框与浮动元素重叠时，其边框、背景、和内容都在该浮动元素*之上*显示。
	- 块框与浮动元素重叠时，其边框和背景在该浮动元素*之下*显示，而内容在浮动元素*之上*显示。

#####1.1.3.4清除
**值：**left|right|both|none|inherit
**初始值**：none
**应用于**：块级元素
**继承性**：无
**计算值**：根据指定确定
clear工作原理：在css2.1之前它会增加元素的上外边距，使之落在浮动元素的下面。在css2.1之后引入了清除区域（clearance）,即在元素上外边距之上增加的额外间隔，不允许如何浮动元素进入这个范围内，并不更改元素本身的外边距。
[清除的方式及兼容性问题见此链接](http://w3help.org/zh-cn/casestudies/001)
###1.2定位
####1.2.1基本概念
#####1.2.1.1position
**值：**static|relative|absolute|fixed|inherit
**初始值**：static
**应用于**：所有元素
**继承性**：无
**计算值**：根据指定确定
各值含义如下：
- static
初始值。块级元素生成一个矩形框，作为文档流的一部分，行内元素则会创建一个或多个行框置于父元素中。
- relative
元素框偏移某个距离。元素仍保持其未定位前的形状，它的原本所占的空间仍保留。
- absolute
元素框从文档流中完全删除，并相对于其包含块定位，包含块可能是文档中的另一个元素（position必须为relative、absolute、fixed中的一个）或者是初始包含块。元素原先在正常文档流中所占的空间会关闭，就好像该元素不存在一样。元素定位互殴生成一个块级框，而不论原来它在正常流中生成何种类型的框。
- fixed 
元素框的表现类似于将position设置为absolute，不过其包含框是视窗本身。(即位置不随滚动条变化而变化)。

#####1.2.1.2[*包含块（containning block）*](http://w3help.org/zh-cn/kb/008/#header_1)
对于浮动元素来讲，其包含块定义为最佳的块级祖先元素，对于定位CSS2.1定义了如下行为：
- *根元素*的包含块由用户代理建立。在HTML中指的就是html元素，有些浏览器会使用body标签作为根源是，大多数浏览器中初始包含块是一个视窗大小的矩形。
- 对于一个非根元素，如果其position值是relative或static，包含块设置为最近的块级框、table-cell、或行内块祖先框的内容边界构成。
- 对于一个非根元素，如果其position值是absolute，包含块设置为最近position不是static的祖先元素（可以是任意类型）。
	- 如果这个祖先是块级元素，包含块则设置为该元素的内边距边界；换句话说就是由边框界定的区域。
	- 如果这个祖先元素是行内元素，包含块则设置为该祖先元素的内容边界。在从左向右读的语言中，包含块的上边界和左边界是该祖先元素中第一个框内容区的上边界和左边界，包含块的下边界和右边界是最后一个框内容区的下边界和右边界。在从右向左读的语言中，包含块的右边界对应于第一个框的右内容边界，包含块的左边界则取自最后一个框的左内容边界。上下边界也一样。
	- 如果没有祖先元素，元素的包含块定义为初始包含块

这里有一点很重要：元素可以定位到其包含块的*外面*。所以包含块可以算是*定位上下文*。
#####1.2.1.3偏移属性
top、right、bottom、left
**值：** `<length>`|`<percentage>`|auto|inherit
**初始值**：auto
**应用于**：定位元素（position值不是static的元素）
**继承性**：无
**百分数**：对于top和bottom，相对与包含块的高度；对于right和left，相对于宽度
**计算值**：对于定位元素，计算值取决于一系列因素；对于static元素为auto;对于长度值，是相应的绝对长度；对于百分数值，则为指定值；否则为auto

偏移量可正可负，正值会导致向内偏移，使边界朝着包含块的中心移动，而负值会导致向外偏移。
####1.2.2宽度和高度
#####1.2.2.1设置宽高
当希望浮动元素宽高相对于包含块自适应时，可以不设height和widht而通过设定top,bottom,right.left的值达到目的。一些弹性布局就是这样实现的。只有在position设置为absolute和fixed下有效。
#####1.2.2.2限制宽高
min-width、max-width
**值：** `<length>`|`<percentage>`|inherit
**初始值**：0
**应用于**：除了非替换行内元素和表元素以外的所有元素
**继承性**：无
**百分数**：相对应包含块的宽度
**计算值**：对百分数，计算值取决于一系列因素；对于长度值，是相应的绝对长度；否则为none
min-height、max-height
**值：** `<length>`|`<percentage>`|inherit
**初始值**：0
**应用于**：除了非替换行内元素和表元素以外的所有元素
**继承性**：无
**百分数**：相对应包含块的高度
**计算值**：对百分数，计算值取决于一系列因素；对于长度值，是相应的绝对长度；否则为none

这些值不能为负数。
####1.2.3内容溢出和裁剪
#####1.2.3.1内容溢出
overflow
**值：** visible|hidden|scroll|auto|inherit
**初始值**：visible
**应用于**：块级元素和替换元素
**继承性**：无
**计算值**：根据指定确定
默认值visible表示元素的内容在元素框之外也可见，这会导致内容炒熟自己的元素框但不会改变框的形状。
#####1.2.3.1内容裁剪
**[clip](https://developer.mozilla.org/en-US/docs/Web/CSS/clip)**不再被推荐使用，而其代替**[clip-path](https://developer.mozilla.org/en-US/docs/Web/CSS/clip-path)**兼容性不佳
####1.2.4元素可见性
visibility
**值：** visible|hidden|collapse|inherit
**初始值**：visible
**应用于**：块级元素和替换元素
**继承性**：无
**计算值**：根据指定确定
visibility:hidden元素处于不可见状态，但元素还是会影响文档布局，还是占位。display:none元素不仅不可见还会从文档流中删除，对文档布局没有任何影响。
visibility：collapse在表中使用，如对非表元素则与hidden效果一样。
####1.2.5绝对定位
本节介绍绝对定位的细节问题。
#####1.2.5.1包含块和绝对定位元素
元素绝对定位的时候会从文档流中完全删除。然后相对于其包含块进行定位，定位元素不会流入其他元素的内容，反之亦然，因此定位元素可能覆盖其他元素，或者被其他元素覆盖。
绝对定位元素包含块是最近的position值不为static的祖先元素。因此经常将包含块的position设置为relative。如果确保body元素为其所有后代建立一个包含块而不是让用户代理进行选择，可以声明body{position:relative}
#####1.2.5.2自动边偏移
